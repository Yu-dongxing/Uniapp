import{g as e,d as s,o as t,c as i,w as a,r,a as l,b as h,e as n,t as d,n as f,f as o,h as u,F as c,j as g,i as p}from"./index-d43420f9.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";const w=_({data:()=>({parentListId:"parentListId",pageHeight:300,dataList:[],refreshing:!1,refreshText:"",refreshFlag:!1}),created(){for(var e=1;e<=32;e++)this.dataList.push({id:e,name:e})},onReady(){this.pageHeight=e().windowHeight,s().in(this).select("#head").boundingClientRect().exec((e=>{this.$refs.sublist.setSpecialEffects({id:this.parentListId,headerHeight:e[0].height})}))},methods:{onrefresh(e){this.refreshing=!0,this.refreshText="刷新中...",setTimeout((()=>{this.refreshing=!1,this.refreshFlag=!1,this.refreshText="已刷新"}),2e3)},onpullingdown(e){this.refreshing||(this.pulling=!1,Math.abs(e.pullingDistance)>Math.abs(e.viewHeight)?(this.refreshFlag=!0,this.refreshText="释放立即刷新"):(this.refreshFlag=!1,this.refreshText="下拉可以刷新"))}}},[["render",function(e,s,_,w,x,m){const y=g,L=r("refresh"),b=p,v=r("cell"),k=r("list");return t(),i(k,{id:x.parentListId,class:"page",bounce:!1,isSwiperList:"true"},{default:a((()=>[l(L,{class:"refresh",onRefresh:m.onrefresh,onPullingdown:m.onpullingdown,display:x.refreshing?"show":"hide"},{default:a((()=>[h("div",{class:"refresh-view"},[l(y,{class:"loading-text"},{default:a((()=>[n(d(x.refreshText),1)])),_:1})])])),_:1},8,["onRefresh","onPullingdown","display"]),l(v,null,{default:a((()=>[l(b,{id:"head",class:"header"},{default:a((()=>[l(y,{class:"header-title"},{default:a((()=>[n("header")])),_:1})])),_:1})])),_:1}),l(v,null,{default:a((()=>[l(b,{class:"main-content",style:f("height:"+x.pageHeight+"px")},{default:a((()=>[l(b,{class:"sticky-view"},{default:a((()=>[l(y,{class:"sticky-title"},{default:a((()=>[n("Sticky view")])),_:1})])),_:1}),l(k,{ref:"sublist",class:"list","offset-accuracy":5,bounce:!1,isSwiperList:"true"},{default:a((()=>[(t(!0),o(c,null,u(x.dataList,((s,r)=>(t(),i(v,{key:s.id,ref_for:!0,ref:"item"+r,onClick:e.onclick},{default:a((()=>[l(b,{class:"list-item"},{default:a((()=>[l(y,null,{default:a((()=>[n(d(s.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},512)])),_:1},8,["style"])])),_:1})])),_:1},8,["id"])}],["__scopeId","data-v-361a7fd1"]]);export{w as default};
